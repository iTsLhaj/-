@import '@fontsource/ibm-plex-mono/400.css';
@tailwind base;
@tailwind components;

@layer base {
  /* define theme variables for light and dark */
  :root {
    --color-text-strong: 1 1 1;        /* dark text color in RGB parts (light theme) */
    --color-text-weak: 102 102 102;    /* weak text (light theme) */
    --color-bg: 255 255 255;           /* page bg (light) */
  }

  .dark {
    --color-text-strong: 255 255 255;  /* strong text (dark theme) */
    --color-text-weak: 160 160 160;    /* weak text (dark theme) */
    --color-bg: 1 1 1;                 /* page bg (dark) */
  }

  /* ensure utility-like classes map to CSS variables (no !important, placed in base) */
  .text-strong { color: rgb(var(--color-text-strong) / 1); }
  .text-weak   { color: rgb(var(--color-text-weak) / 1); }
  .text-text-strong { color: rgb(var(--color-text-strong) / 1); }
  .text-text-weak   { color: rgb(var(--color-text-weak) / 1); }

  /* Icon hover glow effect (stays in base) */
  .group:hover i.ph,
  .group:hover i svg {
    filter: drop-shadow(0 0 8px rgba(187, 31, 140, 0.6));
    transition: filter 0.3s ease;
  }

  /* Smooth transform for all hover effects */
  * {
    transition-property: transform, filter, color, opacity;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* ...existing base ... */

.rain-canvas {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  pointer-events: none;
  z-index: 20; /* moved above layout (layout uses z-10) */
  mix-blend-mode: screen;
  display: none; /* default hidden */
}

/* Show only in dark mode */
html.dark .rain-canvas { display: block; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .rain-canvas { display: none; }
}

/* Tailwind utilities should come after base/components so hover: and group-hover: utilities can override the base rules */
@tailwind utilities;